### Makefile for the sim project
### Generated by Bluespec Workstation on Fri Jun 23 12:08:12 IST 2017

default: full_clean compile link simulate

.PHONY: compile
compile:
	@echo Compiling...
	bsc -u -sim -simdir . -bdir . -info-dir . -keep-fires -p %/Prelude:%/Libraries:./../src:./../data:%/Libraries/BlueNoC -g mkTestBench  ../src/Testbench.bsv 
	@echo Compilation finished

.PHONY: link
link:
	@echo Linking...
	bsc -e mkTestBench -sim -o ./out -simdir . -p %/Prelude:%/Libraries:./../src:./../data:%/Libraries/BlueNoC -bdir . -keep-fires 
	@echo Linking finished

.PHONY: simulate
simulate:
	@echo Simulation...
	./out -m 1000
	@echo Simulation finished

.PHONY: clean
clean:
	exec rm -f ./DataMem.bo ./InstMem.bo ./Node.bo ./Processor.bo ./NetConnect.bo ./Core.bo ./Testbench.bo ./ProcTypes.bo ./MemTypes.bo ./Def.bo ./NoCTypes.bo ./Lookup.bo ./System.bo
	exec rm -f ./mkSystem.ba ./mkDmem.ba ./mkImem.ba ./mkNode.ba ./mkProc.ba ./mkNetConnect.ba ./mkCore.ba ./mkTestBench.ba
	exec rm -f ./mkTestBench.o ./mkSystem.o ./mkCore.o ./mkDmem.o ./mkImem.o ./mkProc.o ./mkNetConnect.o ./mkNode.o ./model_mkTestBench.o

.PHONY: full_clean
full_clean:
	rm -f ./DataMem.bo ./InstMem.bo ./Node.bo ./Processor.bo ./NetConnect.bo ./Core.bo ./Testbench.bo ./ProcTypes.bo ./MemTypes.bo ./Def.bo ./NoCTypes.bo ./Lookup.bo ./System.bo
	rm -f ./mkSystem.ba ./mkDmem.ba ./mkImem.ba ./mkNode.ba ./mkProc.ba ./mkNetConnect.ba ./mkCore.ba ./mkTestBench.ba
	rm -f ./mkTestBench.o ./mkSystem.o ./mkCore.o ./mkDmem.o ./mkImem.o ./mkProc.o ./mkNetConnect.o ./mkNode.o ./model_mkTestBench.o
	rm -f ./mkSystem.h
	rm -f ./mkSystem.cxx
	rm -f ./mkDmem.h
	rm -f ./mkDmem.cxx
	rm -f ./mkImem.h
	rm -f ./mkImem.cxx
	rm -f ./mkNode.h
	rm -f ./mkNode.cxx
	rm -f ./mkProc.h
	rm -f ./mkProc.cxx
	rm -f ./mkNetConnect.h
	rm -f ./mkNetConnect.cxx
	rm -f ./mkCore.h
	rm -f ./mkCore.cxx
	rm -f ./model_mkTestBench.h ./mkTestBench.h
	rm -f ./model_mkTestBench.cxx ./mkTestBench.cxx
